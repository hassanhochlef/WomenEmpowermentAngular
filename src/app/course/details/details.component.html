<header xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
    <div class="page-header min-vh-85">
        <div>
            <video autoplay muted loop>
            <source class="position-absolute fixed-top ms-auto w-50 h-100 z-index-0 d-none d-sm-none d-md-block border-radius-section border-top-end-radius-0 border-top-start-radius-0 border-bottom-end-radius-0" src="https://cdn.videvo.net/videvo_files/video/free/2012-10/large_watermarked/hd0097-H264%2075_preview.mp4" alt="image" loading="lazy">
            </video>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-7 d-flex">
                    <div class="card card-body blur text-md-start text-center px-sm-5 shadow-lg mt-sm-5 py-sm-5">
                       <h2 class="text-dark mb-0">{{course.courseName}}</h2>
                        <h2 class="text-dark mb-4">{{course.domain}}</h2>
                            <span>Start date : {{course.startDate | date:'fullDate'}} </span><br>
                            <span>End date : {{course.endDate | date:'fullDate'}}</span><br>
                            <span>Course duration : {{course.nbHours}} Hours</span>

                        <div class="buttons">
                            <button type="button" (click)="joinCourse(courseId)" class="btn btn-rounded bg-gradient-primary mt-4">Participate</button>
                            <button type="button" class="btn btn-rounded btn-outline-secondary mt-4 ms-2">Contact former</button>

                        </div>

                    </div>

                </div>
                        </div>
                    </div>
            </div>
</header>
<div *ngFor="let cc of ccCourses">
    <div *ngIf="courseId === cc.courseId.toString() " class="row mt-5">
        <div class="col-sm-3 col-6 mx-auto" >
            <div  class="btn-group btn-group-lg">
                <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#exampleModalLong">
                    OwnerShip Panel
                </button>
            <button type="button" style="font-size: 10px"  class="btn btn-outline-dark"  data-bs-toggle="modal" data-bs-target="#exampleModalNotification">
                Delete Course
            </button>
            <button type="button" style="font-size: 10px"  class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#exampleModalSignup">
               Update Course
            </button>
            </div>
            <div class="modal fade" id="exampleModalNotification" tabindex="-1" aria-labelledby="exampleModalNotification" aria-hidden="true">
                <div class="modal-dialog modal-danger modal-dialog-centered modal-" role="document">
                    <div class="modal-content bg-gradient-danger">
                        <div class="modal-header border-0">
                            <h6 class="modal-title text-white" id="modal-title-notification">You are about to delete this course</h6>
                            <button type="button" class="btn btn-link text-white my-1" data-bs-dismiss="modal"><i class="fas fa-times"></i></button>
                        </div>
                        <hr class="horizontal light mt-0">
                        <div class="modal-body">
                            <div class="py-3 text-center text-white">
                                <i class="material-icons text-3xl">notifications_active</i>
                                <h4 class="heading mt-4 text-white">You should read this!</h4>
                                <p class="text-white opacity-8">Deleting this course will remove it permenantly and this process can not be undone ! </p>
                            </div>
                        </div>
                        <hr class="horizontal light mb-0">
                        <div class="modal-footer justify-content-between border-0">
                            <button  (click)="deleteCourse(courseId.toString())" data-bs-dismiss="modal"  type="button" class="btn btn-white my-1">Delete</button>
                            <button type="button" class="btn btn-link text-white my-1" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="exampleModalLong" tabindex="-1" aria-labelledby="exampleModalLong" aria-hidden="true">
                <div class="modal-dialog modal-danger modal-dialog-centered modal-" role="document">
                    <div class="modal-content">
                        <div class="modal-body p-0">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLongTitle">OwnerShip info</h5>
                                    <button type="button" class="btn btn-link text-dark my-1" data-bs-dismiss="modal">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <section style="background-color: ghostwhite">
                                        <h2 class="text-gradient text-primary text-center">Banned Users</h2>
                                        <div class="container">
                                            <div class="row justify-content-center">
                                                <div class="col-lg-10">
                                                    <div class="card">
                                                        <div class="table-responsive">
                                                            <table class="table align-items-center mb-0">
                                                                <thead>
                                                                <tr>
                                                                    <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Name</th>
                                                                    <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Username</th>
                                                                    <th class="text-secondary opacity-7"></th>
                                                                </tr>
                                                                </thead>
                                                                <tbody *ngFor="let u of bannedpart">
                                                                <tr>
                                                                    <td>
                                                                        <div class="d-flex px-2 py-1">
                                                                            <div>
                                                                                <img src="../../assets/img/team-2.jpg" class="avatar avatar-sm me-3">
                                                                            </div>
                                                                            <div class="d-flex flex-column justify-content-center">
                                                                                <h6 class="mb-0 text-xs">{{u.name}}</h6>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <p class="text-xs font-weight-bold mb-0">{{u.username}}</p>
                                                                        <p class="text-xs text-secondary mb-0" ></p>
                                                                    </td>

                                                                </tr>

                                                                </tbody>

                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn bg-gradient-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="exampleModalSignup" tabindex="-1" aria-labelledby="exampleModalSignup" aria-hidden="true">
                <div class="modal-dialog modal-danger modal-dialog-centered modal-" role="document">
                    <div class="modal-content">
                        <div class="modal-body p-0">
                            <div class="card card-plain">
                                <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                                    <div class="bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1 text-center py-4">
                                        <h4 class="font-weight-bolder text-white mt-1">Join us today</h4>
                                        <p class="mb-1 text-white text-sm">Enter your email and password to register</p>
                                    </div>
                                </div>
                                <div class="card-body pb-3">
                                    <form role="form text-start">
                                        <div class="input-group input-group-outline mb-3">
                                            <label class="form-label">Name</label>
                                            <input type="text" class="form-control">
                                        </div>

                                        <div class="input-group input-group-outline mb-3">
                                            <label class="form-label">Email</label>
                                            <input type="email" class="form-control">
                                        </div>

                                        <div class="input-group input-group-outline mb-3">
                                            <label class="form-label">Password</label>
                                            <input type="password" class="form-control">
                                        </div>
                                        <div class="form-check form-check-info d-flex float-start ps-0">
                                            <input class="form-check-input mt-0" type="checkbox" value="" id="flexCheckDefault" checked="">
                                            <label class="form-check-label mb-0 ms-3" for="flexCheckDefault">
                                                I agree the <a href="javascript:;" class="text-dark font-weight-bolder">Terms and Conditions</a>
                                            </label>
                                        </div>
                                        <div class="text-center">
                                            <button type="button" class="btn bg-gradient-primary w-100 mt-4 mb-0">Sign up</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="card-footer text-center pt-0 px-sm-4 px-1">
                                    <p class="mb-4 mx-auto">
                                        Already have an account?
                                        <a href="javascript:;" class="text-primary text-gradient font-weight-bold">Sign in</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



        <!-- Modal -->

</div>
<section class="py-md-7 pb-5">
    <div class="container">
        <div class="row text-center">
            <div class="col-lg-3 col-md-6">
                <div class="info">
                    <div class="icon icon-md icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
                        <i class="material-icons opacity-10">grid_view</i>
                    </div>
                    <h5 class="mt-3">Documents</h5>
                    <p>This course contains full documents of each lesson</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="info">
                    <div class="icon icon-md icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
                        <i class="material-icons opacity-10">quiz</i>
                    </div>
                    <h5 class="mt-3">Quiz</h5>
                    <p>This course contains several test with quiz</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="info">
                    <div class="icon icon-md icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
                        <i class="material-icons opacity-10">card_membership</i>
                    </div>
                    <h5 class="mt-3">Certificate</h5>
                    <p>If you pass the tests a certificate will be obtained</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="info">
                    <div class="icon icon-md icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
                        <i class="material-icons opacity-10">cast_for_education</i>
                    </div>
                    <h5 class="mt-3">Live stream</h5>
                    <p>Live stream feature to enhance learning quality</p>
                </div>
            </div>
        </div>
    </div>
    <hr class="flag-hr">
</section>
<section style="background-color: ghostwhite">
    <h2 class="text-gradient text-primary text-center">Course participants</h2>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card">
                    <div class="table-responsive">
                       <table class="table align-items-center mb-0">
                            <thead>
                            <tr>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Name</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Username</th>
                                <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Certificate status</th>
                                <th class="text-secondary opacity-7"></th>
                            </tr>
                            </thead>
                            <tbody *ngFor="let cert of certificate">
                            <tr>
                                <td>
                                    <div class="d-flex px-2 py-1">
                                        <div>
                                            <img src="../../assets/img/team-2.jpg" class="avatar avatar-sm me-3">
                                        </div>
                                        <div class="d-flex flex-column justify-content-center">
                                            <h6 class="mb-0 text-xs">{{cert.user.name}}</h6>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <p class="text-xs font-weight-bold mb-0">{{cert.user.username}}</p>
                                    <p class="text-xs text-secondary mb-0" ></p>
                                </td>
                                <td class="align-middle text-center text-sm">
                                    <span class="badge badge-sm badge-success" *ngIf="cert.aquired==true">AQUIRED</span>
                                    <span class="badge badge-sm badge-danger" *ngIf="cert.aquired==false">NOT AQUIRED</span>
                                </td>
                                <td class="align-middle" >
                                    <div class="btn-group btn-group-sm" aria-label="Basic example">
                                        <button type="button" (click)="addSanction(cert.user.userId.toString(),courseId.toString(),pen[2])" class="btn btn-outline-info">Sanction</button>
                                        <button type="button" (click)="addSanction(cert.user.userId.toString(),courseId.toString(),pen[1])" class="btn btn-outline-warning">Warn</button>
                                        <button type="button" (click)="addSanction(cert.user.userId.toString(),courseId.toString(),pen[0])" class="btn btn-outline-danger">Kick</button>
                                    </div>
                                </td>
                            </tr>

                            </tbody>

                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="py-7">
    <div class="container">
        <div class="row">
            <div class="col-md-5 ms-auto me-auto text-center">
                <div class="icon icon-md icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
                    <i class="material-icons opacity-10">tips_and_updates</i>
                </div>
                <h3 class="text-dark mb-0 mt-3">General informations</h3>
                <p>These informations are valid for all courses, keep them on mind !</p>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-4 ms-auto my-auto">
                <div class="cursor-pointer">
                    <div class="card card-background">
                        <div class="full-background" style="background-image: url('https://c1.wallpaperflare.com/preview/71/694/403/conditions-period-contractual-terms-and-conditions-terms-of-payment.jpg')"></div>
                        <div class="card-body pt-7 text-center" style="height: 400px">

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-5 me-auto my-auto ms-md-5">
                <div class="p-3 info-horizontal d-flex">
                    <div>
                        <h5>1. Participation restriction</h5>
                        <p>
                            You do only have the right to join two courses of the <b>SAME</b> field in a <b>semester</b>
                        </p>
                    </div>
                </div>
                <div class="p-3 info-horizontal d-flex">
                    <div>
                        <h5>2. Sanction system</h5>
                        <p>
                            Be active and a good learner to avoid being either kicked , warned or sanctioned. A kick or <b>three</b> warnings gets you out of the course, while a sanction revoques 1 point from your test.
                        </p>
                    </div>
                </div>
                <div class="p-3 info-horizontal d-flex">
                    <div>
                        <h5>3. Tests & Certificates</h5>
                        <p>
                           You have to answer the provided quizes when the former asks for, getting 70% of the total mark means you passed the course tests, and you are able to claim your certificate
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>


</section>
<div *ngFor="let certif of certificate">
<section *ngIf="certif.user.userId == onlineUser.userId ">
    <h2 class="text-gradient text-primary text-center">Live stream</h2>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card">
                    <div [attr.data-hesp-live-id]="course.channelId"  style="width: 1000px; height: 700px ;"></div>
                </div>
            </div>
        </div>
    </div>
</section>
</div>
<div *ngFor="let cre of ccCourses">
    <section *ngIf="cre.courseId == courseId ">
        <h2 class="text-gradient text-primary text-center">Live stream</h2>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="card">
                        <div [attr.data-hesp-live-id]="course.channelId"  style="width: 1000px; height: 700px ;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<br>
<br>
<br>
